// automatically generated by Xtext
grammar org.xtext.example.platoon.Platoon with org.eclipse.xtext.common.Terminals

import "platoon" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Root returns Root:
		platoon=Platoon
		route=Route
		constraints=Constraints;

routeCommand returns routeCommand:
	Forward | TurnLeft | TurnRight;

Vehicle returns Vehicle:
	FollowingVehicle | LeaderVehicle;

Platoon returns Platoon:
	'platoon:'
		leaderVehicle=LeaderVehicle
		(followingVehicle+=FollowingVehicle (followingVehicle+=FollowingVehicle)* )?;

Route returns Route:
	'route:'
	name=EString
	':'
		routeCommands+=routeCommand ( routeCommands+=routeCommand)*;

Constraints returns Constraints:
	'constraints:'
		lbound=EInt '<=' 'headway' '<=' ubound=EInt;

LeaderVehicle returns LeaderVehicle:
	'LV'
	name=EString
	'{'
		'route' route=[Route|EString]
	'}';

FollowingVehicle returns FollowingVehicle:
	'FV'
	name=EString
	'{'
		'front' 'runner' following=[Vehicle|EString]
	'}';

EString returns ecore::EString:
	STRING | ID;

Forward returns Forward:
	'forward'
	'('
		distance=EInt
	')';

TurnLeft returns TurnLeft:
	{TurnLeft}
	'turn' 'Left'
	;

TurnRight returns TurnRight:
	{TurnRight}
	'turn' 'Right'
	;

EInt returns ecore::EInt:
	INT;
